---
permalink: /wp-theme
layout: default
title: PixelGrade Theme Basis
---
{{ "These are the rules to follow while developing a new WordPress theme.

## The roots of our structure

We follow the [Underscores structure](https://github.com/automattic/_s)(`_s`) since it is a simple and popular framework. It is easy to use and understand for every WordPress community member.

## WordPress Coding Standards

Since we are working with WordPress, we respect the environment, concepts and [coding standards](https://make.wordpress.org/core/handbook/best-practices/coding-standards/php).

Aside from the rules from Codex we also need to check:

**Simple Quotes First**

The simple quotes `'` should always be your fist pick, excepting the case of HTML attributes. So:

* A simple string in PHP should be wrapped in single quotes `<?php echo 'a string'; ?>`.
* Array keys should also use the single quotes `<?php echo $my_array['a_custom_key'];?>`

**HTML Escape**

Every string must be output in an escaped way with [gettext](http://php.net/gettext) functions like `esc_html__` or `esc_html_e`:

 * For these gettext functions always use the same string textdomain which is set [here](https://github.com/pixelgrade/guides/blob/master/wp-theme/functions.php#L25) and use only strings (no variables or constants).
 * Never add HTML code inside the functions above, if you need to compose an HTML block with strings inside use `sprintf`.
 * Also note that strings added to `sprintf` are XSS safe, and they can be output simply with `__` or `_e` functions.

**Javascript parameters**

Always localize JavaScript strings or parameters needed (here is an [example](https://github.com/pixelgrade/guides/blob/master/wp-theme/functions.php#L159-L179)).

<a name='php_function_naming'></a>**[PHP function naming](#php_function_naming)**

Every PHP function must be prefixed with the Theme Name like this: `guides_get_option`.

PHP functions [naming](https://make.wordpress.org/core/handbook/best-practices/coding-standards/php/#naming-conventions) should also be completed by these 2 rules:

 * Use `the_` prefix for functions which should display something like: 'guides_the_title.
 * Use `get_` prefix for function which should return something like: `guides_get_custom_logo_ID`.
 * Uppercase `ID` whenever you can.

<a name='actions_and_filters'></a>**[Actions and Filters](#actions_and_filters)**

Since the use of actions and filters is a day by day job in themes and plugins, they turn out to be pretty important. Also how we organize them is a fact that requires attention, so:

**1)** Avoid putting actions and filters directly in functions.php, try to find a file with context like `template-tags.php` or `extras.php`.

**2)** If is a plugin based action, there is a folder `integrations`  exactly for this purpose.

**3)** We recommend writing actions and filters like the following example

" | markdownify
}}

{% highlight php startinline=true %}
<?php
/**
 * Comment block. Explain here what this function does!
 **/
function my_custom_action ( $first_param, $second_param ) {

   // do some custom work

}
add_action( 'init', 'my_custom_action', 10, 2 ); ?>
{% endhighlight %}
{{"

You may ask yourself what it is so important about the example above, well:
* First, it has an order, the function must be first and the add_action must exactly after the function.
* The add_action call must always have the 3rd and 4th params, even if the priority is 10 by default, it is a best practice to be specified.
* Don't forget to comment your function, give it a context and explain what it does.


**Final code check**

Always check what the [Theme Check Plugin](https://wordpress.org/plugins/theme-check) says.

### PHPStorm users

PHPStorm has a code style predefined for PHP, you can set it up in Preferences panel as in the next screenshot.

![Image description](/guides/theme/code_style.png)

Please note that this code style is available only for PHP files.

For SCSS, CSS or JS files you will need to setup your own style and add Smart Tabs or a proper spacing to function parameters.

## A Child Theme perspective

* Every theme should have a child theme repository as an example following this [structure](http://pixelgrade.github.io/guides/child).
* For child themes to succeed we need to allow them control, so whenever we declare a function we check it with the `function_exists` function, in case it does exists it means it was created by a child theme.
* Try to break down templates into smaller pieces as much as you can in order to be easier for child themes to [overwrite templates](http://pixelgrade.github.io/guides/child#template-overwriting).

## Plugins Integrations

* We use [TGMA](http://tgmpluginactivation.com/) to recommend plugins
* For various integrations with plugins we use the integrations.php file and folder. For example the [woocommerce.php](https://github.com/pixelgrade/guides/blob/master/wp-theme/inc/integrations/woocommerce.php) file
* For Theme Options we use [Customify](https://github.com/pixelgrade/customify)
* For Custom Post Types and Custom Metadata we use [PixTypes](https://github.com/pixelgrade/pixtypes)
* For Shortcodes management we use [PixCodes](https://github.com/pixelgrade/pixcodes)

4. **We strive to keep things licensed under GPLv3. The sky is the limit.**

" | markdownify
}}